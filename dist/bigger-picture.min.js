var BiggerPicture=function(){function t(){}const n=t=>t;function e(t,n){for(const e in n)t[e]=n[e];return t}function o(t){return t()}function r(t){t.forEach(o)}function i(t){return"function"==typeof t}let c;function s(t,n){return t===n?1:(c||(c=document.createElement("a")),c.href=n,t===c.href)}function l(t){return t.split(",").map((t=>t.trim().split(" ").filter(Boolean)))}function u(t,n){return t!=t?n==n:t!==n}function a(n,e,o){n.$$.on_destroy.push(((n,...e)=>{if(null==n){for(const t of e)t(void 0);return t}const o=n.subscribe(...e);return o.unsubscribe?()=>o.unsubscribe():o})(e,o))}function p(n){return n&&i(n.destroy)?n.destroy:t}function f(t){const n="string"==typeof t&&t.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return n?[parseFloat(n[1]),n[2]||"px"]:[t,"px"]}let d=()=>globalThis.performance.now(),b=t=>requestAnimationFrame(t);const m=new Set;function h(t){m.forEach((n=>{n.c(t)||(m.delete(n),n.f())})),0!==m.size&&b(h)}function g(t){let n;return 0===m.size&&b(h),{promise:new Promise((e=>{m.add(n={c:t,f:e})})),abort(){m.delete(n)}}}function v(t,n){t.appendChild(n)}function x(t){const n=y("style");return n.textContent="/* empty */",((t,n)=>{v(t.head||t,n)})(document,n),n.sheet}function w(t,n,e){t.insertBefore(n,e||null)}function $(t){t.parentNode&&t.parentNode.removeChild(t)}function y(t){return document.createElement(t)}function k(){return document.createTextNode("")}function S(t,n,e,o){return t.addEventListener(n,e,o),()=>t.removeEventListener(n,e,o)}function z(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function _(t,n,e,o){null==e?t.style.removeProperty(n):t.style.setProperty(n,e)}function I(t,n,e){t.classList.toggle(n,!!e)}const M=new Map;let P,T=0;function O(t,n,e,o,r,i,c,s=0){const l=16.666/o;let u="{\n";for(let t=0;1>=t;t+=l){const o=n+(e-n)*i(t);u+=100*t+`%{${c(o,1-o)}}\n`}const a=u+`100% {${c(e,1-e)}}\n}`,p=`_bp_${(t=>{let n=5381,e=t.length;for(;e--;)n=(n<<5)-n^t.charCodeAt(e);return n>>>0})(a)}_${s}`,f=document,{stylesheet:d,rules:b}=M.get(f)||((t,n)=>{const e={stylesheet:x(),rules:{}};return M.set(t,e),e})(f);b[p]||(b[p]=1,d.insertRule(`@keyframes ${p} ${a}`,d.cssRules.length));const m=t.style.animation||"";return t.style.animation=`${m?m+", ":""}${p} ${o}ms linear ${r}ms 1 both`,T+=1,p}function A(t,n){const e=(t.style.animation||"").split(", "),o=e.filter(n?t=>0>t.indexOf(n):t=>-1===t.indexOf("_bp")),r=e.length-o.length;r&&(t.style.animation=o.join(", "),T-=r,T||b((()=>{T||(M.forEach((t=>{const{ownerNode:n}=t.stylesheet;n&&$(n)})),M.clear())})))}function j(t){P=t}const F=[],N=[];let C=[];const E=[],R=Promise.resolve();let q=0;function B(t){C.push(t)}const D=new Set;let H,J=0;function K(){if(0!==J)return;const t=P;do{try{for(;F.length>J;){const t=F[J];J++,j(t),L(t.$$)}}catch(t){throw F.length=0,J=0,t}for(j(null),F.length=0,J=0;N.length;)N.pop()();for(let t=0;C.length>t;t+=1){const n=C[t];D.has(n)||(D.add(n),n())}C.length=0}while(F.length);for(;E.length;)E.pop()();q=0,D.clear(),j(t)}function L(t){if(null!==t.t){t.update(),r(t.before_update);const n=t.l;t.l=[-1],t.t&&t.t.p(t.ctx,n),t.after_update.forEach(B)}}function W(){return H||(H=Promise.resolve(),H.then((()=>{H=null}))),H}function X(t,n,e){t.dispatchEvent(((t,n,{bubbles:e=0,cancelable:o=0}={})=>new CustomEvent(t,{detail:n,bubbles:e,cancelable:o}))(`${n?"intro":"outro"}${e}`))}const Y=new Set;let G;function Q(){G={r:0,c:[],p:G}}function U(){G.r||r(G.c),G=G.p}function V(t,n){t&&t.i&&(Y.delete(t),t.i(n))}function Z(t,n,e,o){if(t&&t.o){if(Y.has(t))return;Y.add(t),G.c.push((()=>{Y.delete(t),o&&(e&&t.d(1),o())})),t.o(n)}else o&&o()}const tt={duration:0};function nt(e,o,r){const c={direction:"in"};let s,l,u=o(e,r,c),a=0,p=0;function f(){s&&A(e,s)}function b(){const{delay:o=0,duration:r=300,u:i=n,g:c=t,css:b}=u||tt;b&&(s=O(e,0,1,r,o,i,b,p++)),c(0,1);const m=d()+o,h=m+r;l&&l.abort(),a=1,B((()=>X(e,1,"start"))),l=g((t=>{if(a){if(t>=h)return c(1,0),X(e,1,"end"),f(),a=0;if(t>=m){const n=i((t-m)/r);c(n,1-n)}}return a}))}let m=0;return{start(){m||(m=1,A(e),i(u)?(u=u(c),W().then(b)):b())},invalidate(){m=0},end(){a&&(f(),a=0)}}}function et(e,o,c){const s={direction:"out"};let l,u=o(e,c,s),a=1;const p=G;let f;function b(){const{delay:o=0,duration:i=300,u:c=n,g:s=t,css:b}=u||tt;b&&(l=O(e,1,0,i,o,c,b));const m=d()+o,h=m+i;B((()=>X(e,0,"start"))),"inert"in e&&(f=e.inert,e.inert=1),g((t=>{if(a){if(t>=h)return s(0,1),X(e,0,"end"),--p.r||r(p.c),0;if(t>=m){const n=c((t-m)/i);s(1-n,n)}}return a}))}return p.r+=1,i(u)?W().then((()=>{u=u(s),b()})):b(),{end(t){t&&"inert"in e&&(e.inert=f),t&&u.g&&u.g(1,0),a&&(l&&A(e,l),a=0)}}}function ot(t){t&&t.c()}function rt(t,n,e){const{t:c,after_update:s}=t.$$;c&&c.m(n,e),B((()=>{const n=t.$$.on_mount.map(o).filter(i);t.$$.on_destroy?t.$$.on_destroy.push(...n):r(n),t.$$.on_mount=[]})),s.forEach(B)}function it(t,n){const e=t.$$;null!==e.t&&((t=>{const n=[],e=[];C.forEach((o=>-1===t.indexOf(o)?n.push(o):e.push(o))),e.forEach((t=>t())),C=n})(e.after_update),r(e.on_destroy),e.t&&e.t.d(n),e.on_destroy=e.t=null,e.ctx=[])}function ct(n,e,o,i,c,s,l=null,u=[-1]){const a=P;j(n);const p=n.$$={t:null,ctx:[],$:s,update:t,not_equal:c,bound:{},on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:{},l:u,skip_bound:0,root:e.target||a.$$.root};l&&l(p.root);let f=0;p.ctx=o?o(n,e.$||{},((t,e,...o)=>{const r=o.length?o[0]:e;return p.ctx&&c(p.ctx[t],p.ctx[t]=r)&&(!p.skip_bound&&p.bound[t]&&p.bound[t](r),f&&((t,n)=>{-1===t.$$.l[0]&&(F.push(t),q||(q=1,R.then(K)),t.$$.l.fill(0)),t.$$.l[n/31|0]|=1<<n%31})(n,t)),e})):[],p.update(),f=1,r(p.before_update),p.t=i?i(p.ctx):0,e.target&&(p.t&&p.t.c(),rt(n,e.target,e.anchor),K()),j(a)}class st{$$=void 0;$$set=void 0;$destroy(){it(this,1),this.$destroy=t}$on(n,e){if(!i(e))return t;const o=this.$$.callbacks[n]||(this.$$.callbacks[n]=[]);return o.push(e),()=>{const t=o.indexOf(e);-1!==t&&o.splice(t,1)}}$set(t){this.$$set&&0!==Object.keys(t).length&&(this.$$.skip_bound=1,this.$$set(t),this.$$.skip_bound=0)}}function lt(t){const n=t-1;return n*n*n+1}function ut(t,{delay:n=0,duration:e=400,u:o=lt,x:r=0,y:i=0,opacity:c=0}={}){const s=getComputedStyle(t),l=+s.opacity,u="none"===s.transform?"":s.transform,a=l*(1-c),[p,d]=f(r),[b,m]=f(i);return{delay:n,duration:e,u:o,css(t,n){return`\n\t\t\ttransform: ${u} translate(${(1-t)*p}${d}, ${(1-t)*b}${m});\n\t\t\topacity: ${l-a*n}`}}}(globalThis._bp||(globalThis._bp={v:new Set})).v.add("4");const at=[];function pt(n,e=t){let o;const r=new Set;function i(t){if(i=t,((e=n)!=e?i==i:e!==i||e&&"object"==typeof e||"function"==typeof e)&&(n=t,o)){const t=!at.length;for(const t of r)t[1](),at.push(t,n);if(t){for(let t=0;at.length>t;t+=2)at[t][0](at[t+1]);at.length=0}}var e,i}function c(t){i(t(n))}return{set:i,update:c,subscribe(s,l=t){const u=[s,l];return r.add(u),1===r.size&&(o=e(i,c)||t),s(n),()=>{r.delete(u),0===r.size&&o&&(o(),o=null)}}}}function ft(t,n){if(t===n||t!=t)return()=>t;const e=typeof t;if(Array.isArray(t)){const e=n.map(((n,e)=>ft(t[e],n)));return t=>e.map((n=>n(t)))}if("number"===e){const e=n-t;return n=>t+n*e}}function dt(t,o={}){const r=pt(t);let i,c=t;function s(s,l){if(null==t)return r.set(t=s),Promise.resolve();c=s;let u=i,a=0,{delay:p=0,duration:f=400,u:b=n,interpolate:m=ft}=e(e({},o),l);if(0===f)return u&&(u.abort(),u=null),r.set(t=c),Promise.resolve();const h=d()+p;let v;return i=g((n=>{if(h>n)return 1;a||(v=m(t,s),"function"==typeof f&&(f=f(t,s)),a=1),u&&(u.abort(),u=null);const e=n-h;return e>f?(r.set(t=s),0):(r.set(t=v(b(e/f))),1)})),i.promise}return{set:s,update(n,e){return s(n(c,t),e)},subscribe:r.subscribe}}const bt=pt(0),mt=globalThis.matchMedia?.("(prefers-reduced-motion: reduce)").matches,ht=t=>({u:lt,duration:mt?0:t}),gt=t=>!t.thumb||`url(${t.thumb})`;function vt(t){let n,e,o;return{c(){n=y("div"),n.innerHTML='<span class="bp-bar"></span><span class="bp-o"></span>',z(n,"class","bp-load"),_(n,"background-image",gt(t[0]))},m(t,e){w(t,n,e),o=1},p(t,e){1&e&&_(n,"background-image",gt(t[0]))},i(t){o||(e&&e.end(1),o=1)},o(t){t&&(e=et(n,ut,{duration:480})),o=0},d(t){t&&$(n),t&&e&&e.end()}}}function xt(n){let e,o;return{c(){e=y("div"),z(e,"class","bp-load"),_(e,"background-image",gt(n[0]))},m(t,n){w(t,e,n)},p(t,n){1&n&&_(e,"background-image",gt(t[0]))},i(t){o||B((()=>{o=nt(e,ut,{duration:480}),o.start()}))},o:t,d(t){t&&$(e)}}}function wt(t){let n,e,o=!t[1]&&vt(t),r=t[2]&&xt(t);return{c(){o&&o.c(),n=k(),r&&r.c(),e=k()},m(t,i){o&&o.m(t,i),w(t,n,i),r&&r.m(t,i),w(t,e,i)},p(t,[i]){t[1]?o&&(Q(),Z(o,1,1,(()=>{o=null})),U()):o?(o.p(t,i),2&i&&V(o,1)):(o=vt(t),o.c(),V(o,1),o.m(n.parentNode,n)),t[2]?r?(r.p(t,i),4&i&&V(r,1)):(r=xt(t),r.c(),V(r,1),r.m(e.parentNode,e)):r&&(r.d(1),r=null)},i(t){V(o),V(r)},o(t){Z(o)},d(t){t&&($(n),$(e)),o&&o.d(t),r&&r.d(t)}}}function $t(t,n,e){let o;a(t,bt,(t=>e(2,o=t)));let{k:r}=n,{loaded:i}=n;return t.$$set=t=>{"k"in t&&e(0,r=t.k),"loaded"in t&&e(1,i=t.loaded)},[r,i,o]}class yt extends st{constructor(t){super(),ct(this,t,$t,wt,u,{k:0,loaded:1})}}function kt(t){let n,e,o,r,i,c,u;return{c(){n=y("img"),((t,n)=>{const e=l(t.srcset),o=l(n||"");return o.length===e.length&&o.every((([t,n],o)=>n===e[o][1]&&(s(e[o][0],t)||s(t,e[o][0]))))})(n,e=t[7].img)||z(n,"srcset",e),z(n,"sizes",o=t[8].sizes||t[1]+"px"),z(n,"alt",t[7].alt)},m(e,o){w(e,n,o),i=1,c||(u=S(n,"error",t[26]),c=1)},p(t,e){(!i||2&e[0]&&o!==(o=t[8].sizes||t[1]+"px"))&&z(n,"sizes",o)},i(t){i||(r&&r.end(1),i=1)},o(t){r=et(n,ut,{}),i=0},d(t){t&&$(n),t&&r&&r.end(),c=0,u()}}}function St(t){let n,e;return n=new yt({$:{k:t[7],loaded:t[2]}}),{c(){ot(n.$$.t)},m(t,o){rt(n,t,o),e=1},p(t,e){const o={};4&e[0]&&(o.loaded=t[2]),n.$set(o)},i(t){e||(V(n.$$.t,t),e=1)},o(t){Z(n.$$.t,t),e=0},d(t){it(n,t)}}}function zt(t){let n,e,o,i,c,s,l=`translate3d(${t[0][0]/-2+t[6][0]}px, ${t[0][1]/-2+t[6][1]}px, 0)`,u=t[2]&&kt(t),a=t[3]&&St(t);return{c(){n=y("div"),e=y("div"),u&&u.c(),o=k(),a&&a.c(),z(e,"class","bp-img"),_(e,"width",t[0][0]+"px"),_(e,"height",t[0][1]+"px"),I(e,"bp-drag",t[4]),I(e,"bp-canzoom",t[11]>1&&t[12]>t[0][0]),_(e,"background-image",gt(t[7])),_(e,"transform",l),z(n,"class","bp-img-wrap"),I(n,"bp-close",t[5])},m(r,l){w(r,n,l),v(n,e),u&&u.m(e,null),v(e,o),a&&a.m(e,null),i=1,c||(s=[p(t[20].call(null,e)),S(n,"wheel",t[15]),S(n,"pointerdown",t[16]),S(n,"pointermove",t[17]),S(n,"pointerup",t[19]),S(n,"pointercancel",t[18])],c=1)},p(t,r){t[2]?u?(u.p(t,r),4&r[0]&&V(u,1)):(u=kt(t),u.c(),V(u,1),u.m(e,o)):u&&(Q(),Z(u,1,1,(()=>{u=null})),U()),t[3]?a?(a.p(t,r),8&r[0]&&V(a,1)):(a=St(t),a.c(),V(a,1),a.m(e,null)):a&&(Q(),Z(a,1,1,(()=>{a=null})),U()),(!i||1&r[0])&&_(e,"width",t[0][0]+"px"),(!i||1&r[0])&&_(e,"height",t[0][1]+"px"),(!i||16&r[0])&&I(e,"bp-drag",t[4]),(!i||6145&r[0])&&I(e,"bp-canzoom",t[11]>1&&t[12]>t[0][0]);const c=1&r[0];(1&r[0]||c)&&_(e,"background-image",gt(t[7])),(65&r[0]&&l!==(l=`translate3d(${t[0][0]/-2+t[6][0]}px, ${t[0][1]/-2+t[6][1]}px, 0)`)||c)&&_(e,"transform",l),(!i||32&r[0])&&I(n,"bp-close",t[5])},i(t){i||(V(u),V(a),i=1)},o(t){Z(u),Z(a),i=0},d(t){t&&$(n),u&&u.d(),a&&a.d(),c=0,r(s)}}}function _t(t,n,e){let o,r,i,c;a(t,bt,(t=>e(25,i=t)));let{$:s}=n,{S:l}=n,{k:u,_:p,I:f,next:d,zoomed:b,container:m}=s;a(t,b,(t=>e(24,o=t)));let h,g,v,x,w,$,y,k,S,z,_,I=u.maxZoom||p.maxZoom||10,M=s.M(u),P=M[0],T=0;const O=+u.width,A=[],j=new Map,F=dt(M,ht(400));a(t,F,(t=>e(0,c=t)));const N=dt([0,0],ht(400));a(t,N,(t=>e(6,r=t)));const C=([t,n],o=c)=>{const r=(o[0]-m.w)/2,i=(o[1]-m.h)/2;return 0>r?t=0:t>r?l?(t=w?r+(t-r)/10:r)>r+20&&e(4,w=f()):t=r:-r>t&&(l?-r-20>(t=w?-r-(-r-t)/10:-r)&&e(4,w=d()):t=-r),0>i?n=0:n>i?n=i:-i>n&&(n=-i),[t,n]};function E(t=I,n){if(i)return;const o=M[0]*I;let s=c[0]+c[0]*t,l=c[1]+c[1]*t;if(t>0)s>o&&(s=o,l=M[1]*I),s>O&&(s=O,l=+u.height);else if(M[0]>s)return F.set(M),N.set([0,0]);let{x:a,y:p,width:f,height:d}=x.getBoundingClientRect();const b=n?n.clientX-a-f/2:0,m=n?n.clientY-p-d/2:0;a=s/f*-b+b,p=l/d*-m+m;const h=[s,l];F.set(h).then((()=>{e(1,P=Math.round(Math.max(P,s)))})),N.set(C([r[0]+a,r[1]+p],h))}Object.defineProperty(u,"zoom",{configurable:1,get(){return o},set(t){return E(t?I:-I)}});const R=t=>j.delete(t.pointerId);return t.$$set=t=>{"S"in t&&e(22,l=t.S)},t.$$.update=()=>{if(8388609&t.$$.l[0]&&b.set(c[0]-10>M[0]),58720256&t.$$.l[0]&&i&&o&&!p.intro){const t=ht(480);N.set([0,0],t),F.set(M,t),e(5,_=1)}},[c,P,h,g,w,_,r,u,p,b,m,I,O,F,N,t=>{p.inline&&!o||(t.preventDefault(),E(t.deltaY/-300,t))},t=>{2!==t.button&&(t.preventDefault(),e(4,w=1),j.set(t.pointerId,t),y=t.clientX,k=t.clientY,S=r[0],z=r[1])},t=>{if(j.size>1)return e(4,w=0),p.noPinch?.(m.el)||(t=>{const[n,e]=j.set(t.pointerId,t).values(),o=Math.hypot(n.clientX-e.clientX,n.clientY-e.clientY);v=v||{clientX:(n.clientX+e.clientX)/2,clientY:(n.clientY+e.clientY)/2},E(((T||o)-o)/-35,v),T=o})(t);if(!w)return;let n=t.clientX,r=t.clientY;$=A.push({x:n,y:r})>2,n-=y,r-=k,o||(-90>r&&e(4,w=!p.noClose&&s.close()),30>Math.abs(r)&&(n>40&&e(4,w=f()),-40>n&&e(4,w=d()))),o&&$&&!i&&N.set(C([S+n,z+r]),{duration:0})},R,function(t){if(R(t),v&&(e(4,w=T=0),v=j.size?v:null),w){if(e(4,w=0),t.target===this&&!p.noClose)return s.close();if($){const[t,n,e]=A.slice(-3);Math.hypot(n.x-e.x,n.y-e.y)>5&&N.set(C([r[0]-5*(t.x-e.x),r[1]-5*(t.y-e.y)]))}else p.onImageClick?.(m.el,u)||E(o?-I:I,t);$=0,A.length=0}},t=>{x=t,s.P((()=>{e(23,M=s.M(u)),!p.inline&&l||(F.set(M),N.set([0,0]))})),s.T(u).then((()=>{e(2,h=1),s.O()})),setTimeout((()=>{e(3,g=!h)}),250)},s,l,M,o,i,t=>p.onError?.(m,u,t)]}class It extends st{constructor(t){super(),ct(this,t,_t,zt,u,{$:21,S:22},null,[-1,-1])}}function Mt(t){let n,e,o,i,c,s;return o=new yt({$:{k:t[2],loaded:t[0]}}),{c(){n=y("div"),e=y("iframe"),ot(o.$$.t),z(e,"allow","autoplay; fullscreen"),z(e,"title",t[2].title),z(n,"class","bp-if"),_(n,"width",t[1][0]+"px"),_(n,"height",t[1][1]+"px")},m(r,l){w(r,n,l),v(n,e),rt(o,n,null),i=1,c||(s=[p(t[3].call(null,e)),S(e,"load",t[5])],c=1)},p(t,[e]){const r={};1&e&&(r.loaded=t[0]),o.$set(r),(!i||2&e)&&_(n,"width",t[1][0]+"px"),(!i||2&e)&&_(n,"height",t[1][1]+"px")},i(t){i||(V(o.$$.t,t),i=1)},o(t){Z(o.$$.t,t),i=0},d(t){t&&$(n),it(o),c=0,r(s)}}}function Pt(t,n,e){let o,r,{$:i}=n;const{k:c}=i,s=()=>e(1,r=i.M(c));return s(),i.P(s),[o,r,c,t=>t.src=c.iframe,i,()=>e(0,o=1)]}class Tt extends st{constructor(t){super(),ct(this,t,Pt,Mt,u,{$:4})}}function Ot(t){let n,e,o,r,i;return e=new yt({$:{k:t[2],loaded:t[0]}}),{c(){n=y("div"),ot(e.$$.t),z(n,"class","bp-vid"),_(n,"width",t[1][0]+"px"),_(n,"height",t[1][1]+"px"),_(n,"background-image",gt(t[2]))},m(c,s){w(c,n,s),rt(e,n,null),o=1,r||(i=p(t[3].call(null,n)),r=1)},p(t,[r]){const i={};1&r&&(i.loaded=t[0]),e.$set(i),(!o||2&r)&&_(n,"width",t[1][0]+"px"),(!o||2&r)&&_(n,"height",t[1][1]+"px"),(2&r||2&r)&&_(n,"background-image",gt(t[2]))},i(t){o||(V(e.$$.t,t),o=1)},o(t){Z(e.$$.t,t),o=0},d(t){t&&$(n),it(e),r=0,i()}}}function At(t,n,e){let o,r,{$:i}=n;const{k:c,_:s,container:l}=i,u=()=>e(1,r=i.M(c));u(),i.P(u);const a=(t,n)=>{for(const e in n)z(t,e,n[e])};return[o,r,c,t=>{let n;const r=(t,e)=>{Array.isArray(e)||(e=JSON.parse(e));for(const o of e){n||(n=y(o.type?.includes("audio")?"audio":"video"),a(n,{controls:1,autoplay:1,playsinline:1,tabindex:"0"}));const e=y(t);a(e,o),"source"==t&&S(e,"error",(t=>s.onError?.(l,c,t))),v(n,e)}};r("source",c.sources),r("track",c.tracks||[]),S(n,"canplay",(()=>e(0,o=1))),v(t,n)},i]}class jt extends st{constructor(t){super(),ct(this,t,At,Ot,u,{$:4})}}function Ft(n){let e,o,i,c,s,l,a,f,d,b,m,h=n[6].i,g=Bt(n),x=n[0].length>1&&Dt(n);return{c(){e=y("div"),o=y("div"),g.c(),c=y("div"),s=y("button"),l=y("button"),a=y("button"),x&&x.c(),z(s,"class","bp-base bp-x"),z(s,"title","Close"),z(s,"aria-label","Close"),z(l,"class","bp-base bp-ext"),z(l,"title","Open Fullsize"),z(l,"aria-label","Open Fullsize"),z(a,"class","bp-base bp-save"),z(a,"title","Save"),z(a,"aria-label","Save"),z(c,"class","bp-controls"),z(e,"class","bp-wrap"),I(e,"bp-zoomed",n[10]),I(e,"bp-inline",n[8]),I(e,"bp-small",n[7]),I(e,"bp-noclose",n[5].noClose)},m(t,r){w(t,e,r),v(e,o),g.m(e,null),v(e,c),v(c,s),v(c,l),v(c,a),x&&x.m(c,null),d=1,b||(m=[S(s,"click",n[1]),S(l,"click",n[23]),S(a,"click",n[24]),p(n[14].call(null,e))],b=1)},p(n,o){64&o[0]&&u(h,h=n[6].i)?(Q(),Z(g,1,1,t),U(),g=Bt(n),g.c(),V(g,1),g.m(e,c)):g.p(n,o),n[0].length>1?x?x.p(n,o):(x=Dt(n),x.c(),x.m(c,null)):x&&(x.d(1),x=null),(!d||1024&o[0])&&I(e,"bp-zoomed",n[10]),(!d||256&o[0])&&I(e,"bp-inline",n[8]),(!d||128&o[0])&&I(e,"bp-small",n[7]),(!d||32&o[0])&&I(e,"bp-noclose",n[5].noClose)},i(t){d||(i&&i.end(1),V(g),f&&f.end(1),d=1)},o(t){t&&(i=et(o,ut,{duration:480})),Z(g),t&&(f=et(c,ut,{})),d=0},d(t){t&&$(e),t&&i&&i.end(),g.d(t),x&&x.d(),t&&f&&f.end(),b=0,r(m)}}}function Nt(n){let e,o=(n[6].html??n[6].element.outerHTML)+"";return{c(){e=y("div"),z(e,"class","bp-html")},m(t,n){w(t,e,n),e.innerHTML=o},p(t,n){64&n[0]&&o!==(o=(t[6].html??t[6].element.outerHTML)+"")&&(e.innerHTML=o)},i:t,o:t,d(t){t&&$(e)}}}function Ct(n){let e,o;return e=new Tt({$:{$:n[13]()}}),{c(){ot(e.$$.t)},m(t,n){rt(e,t,n),o=1},p:t,i(t){o||(V(e.$$.t,t),o=1)},o(t){Z(e.$$.t,t),o=0},d(t){it(e,t)}}}function Et(n){let e,o;return e=new jt({$:{$:n[13]()}}),{c(){ot(e.$$.t)},m(t,n){rt(e,t,n),o=1},p:t,i(t){o||(V(e.$$.t,t),o=1)},o(t){Z(e.$$.t,t),o=0},d(t){it(e,t)}}}function Rt(t){let n,e;return n=new It({$:{$:t[13](),S:t[7]}}),{c(){ot(n.$$.t)},m(t,o){rt(n,t,o),e=1},p(t,e){const o={};128&e[0]&&(o.S=t[7]),n.$set(o)},i(t){e||(V(n.$$.t,t),e=1)},o(t){Z(n.$$.t,t),e=0},d(t){it(n,t)}}}function qt(t){let n,e,o,r=t[6].caption+"";return{c(){n=y("div"),z(n,"class","bp-cap")},m(t,e){w(t,n,e),n.innerHTML=r,o=1},p(t,e){(!o||64&e[0])&&r!==(r=t[6].caption+"")&&(n.innerHTML=r)},i(t){o||(e&&e.end(1),o=1)},o(t){e=et(n,ut,{duration:200}),o=0},d(t){t&&$(n),t&&e&&e.end()}}}function Bt(t){let n,e,o,i,c,s,l,u,a;const p=[Rt,Et,Ct,Nt],f=[];function d(t,n){return t[6].img?0:t[6].sources?1:t[6].iframe?2:3}e=d(t),o=f[e]=p[e](t);let b=t[6].caption&&qt(t);return{c(){n=y("div"),o.c(),b&&b.c(),s=k(),z(n,"class","bp-inner")},m(o,r){w(o,n,r),f[e].m(n,null),b&&b.m(o,r),w(o,s,r),l=1,u||(a=[S(n,"pointerdown",t[21]),S(n,"pointerup",t[22])],u=1)},p(t,r){let i=e;e=d(t),e===i?f[e].p(t,r):(Q(),Z(f[i],1,1,(()=>{f[i]=null})),U(),o=f[e],o?o.p(t,r):(o=f[e]=p[e](t),o.c()),V(o,1),o.m(n,null)),t[6].caption?b?(b.p(t,r),64&r[0]&&V(b,1)):(b=qt(t),b.c(),V(b,1),b.m(s.parentNode,s)):b&&(Q(),Z(b,1,1,(()=>{b=null})),U())},i(e){l||(V(o),B((()=>{l&&(c&&c.end(1),i=nt(n,t[12],1),i.start())})),V(b),l=1)},o(e){Z(o),i&&i.invalidate(),c=et(n,t[12],0),Z(b),l=0},d(t){t&&($(n),$(s)),f[e].d(),t&&c&&c.end(),b&&b.d(t),u=0,r(a)}}}function Dt(t){let n,e,o,i,c,s=`${t[4]+1} / ${t[0].length}`;return{c(){n=y("div"),e=y("button"),o=y("button"),z(n,"class","bp-count"),z(e,"class","bp-prev"),z(e,"title","Previous"),z(e,"aria-label","Previous"),z(o,"class","bp-next"),z(o,"title","Next"),z(o,"aria-label","Next")},m(r,l){w(r,n,l),n.innerHTML=s,w(r,e,l),w(r,o,l),i||(c=[S(e,"click",t[2]),S(o,"click",t[3])],i=1)},p(t,e){17&e[0]&&s!==(s=`${t[4]+1} / ${t[0].length}`)&&(n.innerHTML=s)},d(t){t&&($(n),$(e),$(o)),i=0,r(c)}}}function Ht(t){let n,e,o=t[0]&&Ft(t);return{c(){o&&o.c(),n=k()},m(t,r){o&&o.m(t,r),w(t,n,r),e=1},p(t,e){t[0]?o?(o.p(t,e),1&e[0]&&V(o,1)):(o=Ft(t),o.c(),V(o,1),o.m(n.parentNode,n)):o&&(Q(),Z(o,1,1,(()=>{o=null})),U())},i(t){e||(V(o),e=1)},o(t){Z(o),e=0},d(t){t&&$(n),o&&o.d(t)}}}function Jt(t,n,e){let o,{items:r}=n,{target:i}=n;const c=document.documentElement;let s,l,u,p,f,d,b,m,h;const g=()=>!h.img&&!h.sources&&!h.iframe;let v;const x=t=>v=t,w={},$=pt(0);a(t,$,(t=>e(10,o=t)));const k=()=>{l.onClose?.(w.el,h),bt.set(1),e(0,r=null),p?.focus({preventScroll:1})},z=()=>I(s-1),_=()=>I(s+1),I=t=>{b=t-s,e(4,s=M(t))},M=t=>(t+r.length)%r.length,P=t=>{const{key:n,shiftKey:e}=t;if("Escape"===n)!l.noClose&&k();else if("ArrowRight"===n)_();else if("ArrowLeft"===n)z();else if("Tab"===n){const{activeElement:n}=document;if(e||!n.controls){t.preventDefault();const{focusWrap:o=w.el}=l,r=[...o.querySelectorAll("*")].filter((t=>t.tabIndex>=0));let i=r.indexOf(n);i+=r.length+(e?-1:1),r[i%r.length].focus()}}},T=({width:t=1920,height:n=1080})=>{const{scale:e=.99}=l,o=Math.min(1,w.w/t*e,w.h/n*e);return[Math.round(t*o),Math.round(n*o)]},O=()=>{if(r){const t=r[M(s+1)],n=r[M(s-1)];!t.preload&&A(t),!n.preload&&A(n)}},A=t=>{if(t.img){const n=y("img");return n.sizes=l.sizes||T(t)[0]+"px",n.srcset=t.img,t.preload=1,n.decode().catch((t=>{}))}},j=(t,n)=>{n||(n=t.split("\\").pop().split("/").pop()),fetch(t,{headers:new Headers({Origin:location.origin}),mode:"cors"}).then((t=>t.blob())).then((t=>{((t,n)=>{let e=document.createElement("a");e.download=n,e.href=t,document.body.appendChild(e),e.click(),e.remove()})(globalThis.URL.createObjectURL(t),n)})).catch((t=>{}))};return t.$$set=t=>{"items"in t&&e(0,r=t.items),"target"in t&&e(16,i=t.target)},t.$$.update=()=>{1572977&t.$$.l[0]&&r&&(e(6,h=r[s]),u&&l.onUpdate?.(w.el,h))},[r,k,z,_,s,l,h,f,d,m,o,$,(t,n)=>u&&r?ut(t,{x:(b>0?20:-20)*(n?1:-1),duration:250}):(e(19,u=n),l.intro?ut(t,{y:n?10:-10}):(t=>{let n;if(g()){const e=t.firstChild.firstChild;n=[e.clientWidth,e.clientHeight]}else n=T(h);const e=(h.element||p).getBoundingClientRect(),o=e.left-(w.w-e.width)/2,r=e.top-(w.h-e.height)/2,i=e.width/n[0],c=e.height/n[1];return{duration:480,u:lt,css:(t,n)=>`transform:translate3d(${o*n}px, ${r*n}px, 0) scale3d(${i+t*(1-i)}, ${c+t*(1-c)}, 1)`}})(t)),()=>({k:h,M:T,T:A,O,_:l,I:z,next:_,close:k,P:x,zoomed:$,container:w}),t=>{let n,o;e(20,w.el=t,w),l.onOpen?.(w.el,h),d||(n=S(globalThis,"keydown",P));const r=new ResizeObserver((t=>{o&&(e(20,w.w=t[0].contentRect.width,w),e(20,w.h=t[0].contentRect.height,w),e(7,f=769>w.w),g()||v?.(),l.onResize?.(w.el,h)),o=1}));return r.observe(t),{destroy(){r.disconnect(),n?.(),bt.set(0),c.classList.remove("bp-lock"),l.onClosed?.()}}},j,i,t=>{e(5,l=t),e(8,d=l.inline);const n=l.items;!d&&c.scrollHeight>c.clientHeight&&c.classList.add("bp-lock"),p=document.activeElement,e(20,w.w=i.offsetWidth,w),e(20,w.h=i===document.body?globalThis.innerHeight:i.clientHeight,w),e(7,f=769>w.w),e(4,s=l.position||0),e(0,r=Array.isArray(n)?n.map(((t,n)=>(l.el&&l.el===t.element&&e(4,s=n),{i:n,...t}))):(n.length?[...n]:[n]).map(((t,n)=>(l.el===t&&e(4,s=n),{element:t,i:n,...t.dataset}))))},I,u,w,t=>e(9,m=t.target),function(t){2!==t.button&&t.target===this&&m===this&&!l.noClose&&k()},()=>{globalThis.open(Object.hasOwn(h,"full")?h.full:h.img,"_blank")},()=>{const t=Object.hasOwn(h,"full")?h.full:h.img;j(t,t.replace(/.*\//,""))}]}class Kt extends st{constructor(t){super(),ct(this,t,Jt,Ht,u,{items:0,target:16,open:17,close:1,I:2,next:3,setPosition:18},null,[-1,-1])}get items(){return this.$$.ctx[0]}get target(){return this.$$.ctx[16]}get open(){return this.$$.ctx[17]}get close(){return this.$$.ctx[1]}get I(){return this.$$.ctx[2]}get next(){return this.$$.ctx[3]}get setPosition(){return this.$$.ctx[18]}}return t=>new Kt({...t,$:t})}();
